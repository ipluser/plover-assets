/*!!cmd:commonjs=false*/

/* global window, console, jQuery, hummer, lofty */

;(function($) {

    lofty.config({
        hasCatch: true,
        camelConvert: false,
        resolve: function(id) {
            var resolve = hummer.require('xview/resolve');
            return resolve(id);
        }
    });


    lofty.on('compileFailed', function(e) {
        console.error(e);
    });


    hummer.config({
        require: lofty.define,
        define: lofty.define
    });


    var app = hummer.app({
        name: 'lark'
    });


    app.on('beforeReady', function() {
        var async = hummer.require('xview/async');
        async.asyncViewUrl = '/page/asyncView.shtml';

        // 在引入其他库的时候可能$被重置，这里强制指定为$
        window.$ = $;
    });


})(jQuery);

